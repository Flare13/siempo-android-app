#before_script:
#  - "export ANDROID_HOME=\"/home/ravi/Android/Sdk\""

before_script:
    - "export ANDROID_HOME=\"/android-sdk-linux\""

Lint:
  script:
    - cd MiniumApps
    - chmod +x ./gradlew
    - ./gradlew lint -p launcher3/

Build:
  script:
    - echo ${CI_BUILD_REF}
    - cd MiniumApps
    - chmod +x ./gradlew
    - ./gradlew assembleDebug
    - pwd 
    - ls -lah
  artifacts:
    paths:
    - launcher3/build/outputs/apk/launcher3-debug.apk
#    - mkdir /opt/staging/$(date +'%m%d%Y')
#    - mkdir /opt/staging/$(date +'%m%d%Y')/$CI_BUILD_REF
#    - cp -R launcher3/build/outputs/apk/launcher3-debug.apk /opt/staging/$(date +'%m%d%Y')/$CI_BUILD_REF/
#    - cp -R launcher3/build/outputs/apk/launcher3-debug.apk /opt/staging/

#stages:
#  - build
#  - test
#  - lint

#build:
#  stage: build
#  script:
#    - ./gradlew assembleDebug
#  artifacts:
#    paths:
#    - app/build/outputs/

#unitTests:
#  stage: test
#  script:
#    - ./gradlew test

#lintTests:
#  stage: lint
#  script:
#    - ./gradlew lint
